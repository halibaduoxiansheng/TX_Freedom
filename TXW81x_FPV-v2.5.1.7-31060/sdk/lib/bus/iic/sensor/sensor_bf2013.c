#include "sys_config.h"
#include "typesdef.h"
#include "lib/video/dvp/cmos_sensor/csi.h"
#include "tx_platform.h"
#include "list.h"
#include "dev.h"
#include "hal/i2c.h"



#if DEV_SENSOR_BF2013


SENSOR_INIT_SECTION static const unsigned char bf2013InitTable[CMOS_INIT_LEN]=
{

	#if 0
	0x12,0x00,
	0x09,0x01,
	0x15,0x02,
	0x3A,0x00,
	0x12,0x00,
	0x1E,0x00,
	0x13,0x00,
	0x01,0x14,
	0x02,0x21,
	0x8C,0x01,
	0x8D,0xCB,
	0x87,0x20,
	0x1B,0x80,
	0x11,0xE0,
	0x2B,0x20,
	0x92,0x40,
	0x06,0xE0,
	0x29,0x54,
	0xEB,0x30,
	0xBB,0x20,
	0xF5,0x21,
	0xE1,0x3C,
	0x16,0x01,
	0xE0,0x0B,
	0x2F,0xF6,
	0x1F,0x20,
	0x22,0x20,
	0x26,0x20,
	0x33,0x20,
	0x34,0x08,
	0x35,0x50,
	0x65,0x4A,
	0x66,0x48,
	0x36,0x05,
	0x37,0x7B,
	0x38,0x46,
	0x9B,0xF6,
	0x9C,0x46,
	0xBC,0x01,
	0xBD,0xF6,
	0xBE,0x46,
	0x70,0x6F,
	0x72,0x6B,
	0x73,0x2F,
	0x74,0x27,
	0x77,0x90,
	0x79,0x48,
	0x7A,0x1E,
	0x7B,0x30,
	0x24,0xA3,
	0x25,0xB3,
	0x55,0x18,
	0x80,0x7F,
	0x81,0x02,
	0x82,0x14,
	0x83,0x23,
	0x9A,0x23,
	0x84,0x1A,
	0x85,0x20,
	0x86,0x20,
	0x89,0x02,
	0x8A,0x64,
	0x8B,0x02,
	0x8E,0x02,
	0x8F,0xFD,
	0x94,0x0A,
	0x96,0xA6,
	0x97,0x0C,
	0x98,0x1A,
	0x9D,0x93,
	0x9E,0x7A,
	0x3B,0x60,
	0x3C,0x08,
	0x39,0x80,
	0x3F,0x7F,
	0x40,0x9B,
	0x41,0x88,
	0x42,0x6E,
	0x43,0x59,
	0x44,0x4D,
	0x45,0x45,
	0x46,0x3E,
	0x47,0x39,
	0x48,0x35,
	0x49,0x31,
	0x4B,0x2E,
	0x4C,0x2B,
	0x4E,0x26,
	0x4F,0x22,
	0x50,0x1F,
	0x51,0x0E,
	0x52,0x16,
	0x53,0x07,
	0x54,0x1A,
	0x57,0x9D,
	0x58,0x82,
	0x59,0x71,
	0x5A,0x8D,
	0x5B,0x1C,
	0x5C,0x0E,
	0x5D,0x95,
	0x60,0x24,
	0x6A,0x81,
	0x23,0x77,
	0xA0,0x03,
	0xA1,0x31,
	0xA2,0x05,
	0xA3,0x10,
	0xA4,0x20,
	0xA5,0x2C,
	0xA6,0x06,
	0xA7,0x80,
	0xA8,0x7E,
	0xA9,0x20,
	0xAA,0x20,
	0xAB,0x20,
	0xAC,0x3C,
	0xAD,0xF0,
	0xAE,0x80,
	0xAF,0x00,
	0xC5,0x18,
	0xC6,0x00,
	0xC7,0x20,
	0xC8,0x18,
	0xC9,0x20,
	0xCA,0x17,
	0xCB,0x1F,
	0xCC,0x40,
	0xCD,0x58,
	0xEE,0x4C,
	0xB0,0xE0,
	0xB1,0x90,
	0xB2,0x90,
	0xB3,0x88,
	0x56,0x64,
	0x13,0x07,
	#endif

//===============================================================
	
	#if 0
     0x12,0x00 ,            //CHEN-TEST
     0x09,0x01 ,//有彩线可以改为02,03,04,05

     0x15,0x02 ,
     0x3a,0x00 ,
     0x12,0x00 ,
     0x1e,0x00 ,

    // 0x13,0x00 ,
    // 0x01,0x14 ,
    // 0x02,0x21 ,
     0x8c,0x01 ,
     0x8d,0xcb ,
     0x87,0x20 ,
     0x1b,0x80 ,
     0x11,0xe0 , ///80
     0x2b,0x20 ,
    /// 0x92,0xB0 ,//0x40

     0x06,0xe0 ,
     0x29,0x54 ,
     0xeb,0x30 ,
     0xbb,0x20 ,
     0xf5,0x21 ,
     0xe1,0x3c ,
     0x16,0x01 ,
     0xe0,0x0b ,
     0x2f,0xf6 ,
     0x1f,0x20 ,
     0x22,0x20 ,
     0x26,0x20 ,
     0x33,0x20 ,
     0x34,0x08 ,

     0x35,0x38 ,  ///50
     0x65,0x30 ,  ///4a

     0x66,0x30 ,  ///48
     0x36,0x05 ,
     0x37,0xf6 ,
     0x38,0x46 ,
     0x9b,0xf6 ,
     0x9c,0x46 ,
     0xbc,0x01 ,
     0xbd,0xf6 ,
     0xbe,0x46 ,
     0x70,0xaf ,  ////6f ff
     0x72,0x4f , ///3f 4f 2f
     0x73,0x2f , ///3F
     0x74,0x27 , ///36

     0x77,0x90 ,
     0x79,0x48 ,
     0x7a,0x1e ,
     0x7b,0x30 ,
     0x24,0x8d , ///70//88 mark 2021-4-23 8c
     0x25,0x9d , ///80//98 mark 2021-4-23 9c
     0x55,0x0e ,  ///08


     0x80,0x55 ,
     0x81,0x02 ,
     0x82,0x14 ,
     0x83,0x23 ,
     0x9a,0x23 ,
     0x84,0x1a ,
     0x85,0x20 ,
     0x86,0x20 ,  ///30
     0x89,0x02 ,
     0x8a,0x64 ,
     0x8b,0x02 ,
     0x8e,0x02 , ///07
     0x8f,0xfd , ///79
     0x94,0x0a ,  ///0a
     0x96,0xa6 ,
     0x97,0x0c ,
     0x98,0x1a ,  ///18
     0x9d,0x93 ,
     0x9e,0x7a ,
     0x3b,0x60 ,
     0x3c,0x08 , ///0x20
     0x39,0x80 ,
     0x3f,0xb8 , ///b0 7f

#if (1)   //gamma default
     0x40,0x58 ,
     0x41,0x54 ,
     0x42,0x4e ,
     0x43,0x44 ,
     0x44,0x3e ,
     0x45,0x39 ,
     0x46,0x35 ,
     0x47,0x31 ,
     0x48,0x2e ,
     0x49,0x2b ,
     0x4b,0x29 ,
     0x4c,0x27 ,
     0x4e,0x23 ,
     0x4f,0x20 ,
     0x50,0x1e ,

    //R1 R3 21-05-18 modified
    // 0x40,0x48 ,
    // 0x41,0x54 ,
    // 0x42,0x4e ,
    // 0x43,0x44 ,
    // 0x44,0x3e ,
    // 0x45,0x39 ,
    // 0x46,0x35 ,
    // 0x47,0x31 ,
    // 0x48,0x2e ,
    // 0x49,0x2b ,
    // 0x4b,0x29 ,
    // 0x4c,0x27 ,
    // 0x4e,0x23 ,
    // 0x4f,0x20 ,
    // 0x50,0x1e ,
#else
     0x40,0x9b ,
     0x41,0x88 ,
     0x42,0x6e ,
     0x43,0x59 ,
     0x44,0x4d ,
     0x45,0x45 ,
     0x46,0x3e ,
     0x47,0x39 ,
     0x48,0x35 ,
     0x49,0x31 ,
     0x4b,0x2e ,
     0x4c,0x2b ,
     0x4e,0x26 ,
     0x4f,0x22 ,
     0x50,0x1f ,
#endif

    #if 1
     0x51,0x00 ,
     0x52,0x27 ,
     0x53,0x27 ,
     0x54,0x0e ,
     0x57,0x75 ,
     0x58,0x82 ,
     0x59,0x55 ,
     0x5a,0x88 ,
     0x5b,0x33 ,
     0x5c,0x0e ,
     0x5d,0x9c ,
    #else
     0x51,0x0e ,
     0x52,0x16 ,
     0x53,0x07 ,
     0x54,0x1a ,
     0x57,0x9d ,
     0x58,0x82 ,
     0x59,0x71 ,
     0x5a,0x8d ,
     0x5b,0x1c ,
     0x5c,0x0e ,
     0x5d,0x95 ,
    #endif

     0x60,0x31 ,   ///24
     0x6a,0x81 ,
     0x23,0x55 ,  ///66

	#if 1 //lin.
	 0x13,0x00 ,
	 0x01,0x14 ,
	 0x02,0x2b ,  ///2d
	#endif

     0xa0,0x03 ,
     0xa1,0x31 ,
     0xa2,0x0e , ///0e 05
     0xa3,0x25 , ///27 15
     0xa4,0x0d , ///08 18 14
     0xa5,0x31 , ///25 31 27 mark 2021-4-23 26
     0xa6,0x06 ,
     0xa7,0x80 ,
     0xa8,0x7e ,
     0xa9,0x28 ,
     0xaa,0x28 ,
     0xab,0x28 ,

     0xac,0x3c ,
     0xad,0xf0 ,
     0xae,0x80 ,
     0xaf,0x00 ,
     0xc5,0x18 ,
     0xc6,0x00 ,
     0xc7,0x20 ,
     0xc8,0x18 ,
     0xc9,0x20 ,
     0xca,0x17 ,
     0xcb,0x1f ,
     0xcc,0x40 ,
     0xcd,0x58 ,
     0xee,0x4c , ///4c

     0x8e,0x03 , ///02
     0x8f,0x11 , ///40 fd
     0x2b,0x20 , ///88
     0x92,0x11 , ///88 b0
     0x93,0x01 , ///03 00

     0xb0,0xf0 ,   //e0
     0xb1,0xbc , ///80 c0  d0  c0   d8 c0
     0xb2,0xac , ///9f b0        b0 c4 b0
     0xb3,0x9a , ///88

     0x56,0x46 ,  ///50

     0x13,0x07 ,
     0x0b,0x06 ,

	#endif

//==============================================================

	#if 0
	//bbird init setting
	 0x12,0x00 ,
	 0x20,0x40 ,
	 0x09,0xc3 ,  //c3
	 0x15,0x02 ,
	 0x3a,0x00 ,
	 0x12,0x00 ,
	 0x1e,0x00 ,
	 0x8c,0x01 ,
	 0x8d,0xcb ,
	 0x87,0x00 ,
	 0x1b,0x80 ,
	 0x11,0x80 ,
	 0x2b,0x00 ,
	 0x06,0xe0 ,
	 0x3e,0x12 ,
	 0x29,0x54 ,
	 0xeb,0x30 ,
	 0xbb,0x20 ,
	 0xf5,0x21 ,
	 0xe1,0x3c ,
	 0x16,0x01 ,
	 0xe0,0x0b ,
	 0x2f,0x66 ,
	 0x1f,0x20 ,
	 0x22,0x20 ,
	 0x26,0x20 ,
	 0x33,0x20 ,
	 0x34,0x08 ,
	 0x35,0x50 ,
	 0x65,0x4a ,
	 0x66,0x18 ,
	 0x36,0x05 ,
	 0x37,0xf6 ,
	 0x38,0x46 ,
	 0x9b,0xf6 ,
	 0x9c,0x46 ,
	 0xbc,0x01 ,
	 0xbd,0xf6 ,
	 0xbe,0x46 ,
	 0x70,0x6f ,
	 0x72,0x3f ,
	 0x73,0x3f ,
	 0x74,0x17 ,
	 0x77,0x90 ,
	 0x79,0x48 ,
	 0x7a,0x1e ,
	 0x7b,0x30 ,
	 0x24,0xee ,  ///76 80
	 0x25,0xfe ,  ///86 90
	 0x55,0x86 ,  //1f 18 16 36
	 0x56,0x5f ,  ///5d
	 0x80,0x45 ,
	 0x81,0x00 ,
	 0x82,0x14 ,
	 0x83,0x23 ,
	 0x9a,0x23 ,
	 0x84,0x1a ,
	 0x85,0x20 ,
	 0x86,0x30 ,
	 0x89,0x02 ,
	 0x8a,0x64 ,
	 0x8b,0x02 ,
	 0x8e,0x02 ,
	 0x8f,0xb8 ,
	 0x92,0xa8 ,
	 0x93,0x00 ,
	 0x94,0x0a ,
	 0x95,0x94 ,
	 0x96,0xae ,
	 0x97,0x0e ,
	 0x98,0x18 ,
	 0x9d,0x99 ,
	 0x9e,0x7f ,
	 0x3b,0x60 ,
	 0x3c,0x20 ,
	 0x39,0x90 ,  ///80


	 0x3f,0xb0 ,
	 0x40,0x60 ,
	 0x41,0x60 ,
	 0x42,0x66 ,
	 0x43,0x57 ,
	 0x44,0x4c ,
	 0x45,0x43 ,
	 0x46,0x3c ,
	 0x47,0x37 ,
	 0x48,0x33 ,
	 0x49,0x2f ,
	 0x4b,0x2c ,
	 0x4c,0x29 ,
	 0x4e,0x25 ,
	 0x4f,0x22 ,
	 0x50,0x20 ,

	 0x51,0x00 ,  ///05
	 0x52,0x27 ,  ///10
	 0x53,0x27 ,  ///0b
	 0x54,0x0e , ///15
	 0x57,0x75 , ///87
	 0x58,0x82 , ///72
	 0x59,0x55 , ///5f
	 0x5a,0x88 , ///7e
	 0x5b,0x33 , ///1f
	 0x5c,0x0e , ///0e
	 0x5d,0x9c , ///95
	 0x60,0x24 , ///24
	 0x6a,0x81 ,
	 0x23,0x77 ,
	 0x13,0x00 ,
	 0x01,0x00 ,
	 0x02,0x00 ,//19//3f 4f 2f
	 0xa0,0x01 ,//00
	 0xa1,0x31 ,
	 0xa2,0x09 ,
	 0xa3,0x1f ,
	 0xa4,0x11 ,
	 0xa5,0x36 ,
	 0xa6,0x06 ,
	 0xa7,0x20 ,//80
	 0xa8,0x22 ,//7e ee 99 77
	 0xa9,0x22 ,
	 0xaa,0x09 ,//22 aa 33
	 0xab,0x12 ,//22
	 0xac,0x3e ,//3e
	 0xad,0x72 ,//f2
	 0xae,0x80 ,
	 0xaf,0x00 ,
	 0xc5,0x18 ,
	 0xc6,0x00 ,
	 0xc7,0x20 ,
	 0xc8,0x18 ,
	 0xc9,0x20 ,
	 0xca,0x17 ,
	 0xcb,0x1f ,
	 0xcc,0x40 ,
	 0xcd,0x28 ,//58
	 0xee,0x4c ,
	 0xb0,0xff ,//7f
	 0xb1,0x80 ,  ///c0
	 0xb2,0xff ,  ///e8
	 0xb3,0x88 ,
	 0x4a,0x68 ,
	 0x17,0x00 ,
	 0x18,0xa0 ,
	 0x19,0x00 ,
	 0x1a,0x78 ,
	 0x03,0x00 ,
	 0x13,0x07 ,//05-disable white blance,07-enable white blance
	#endif

#if 0	//2013__2021-10-08-d3-V2(亮哥给的) EW37初步效果
0x12,0x80,			  //CHEN-TEST
0x09,0x01,//有彩线可以改为02,03,04,05
0x15,0x02,
0x3a,0x00,	//yuyv
0x12,0x00,
0x1e,0x00,	//BIT5-4(180) 0X20(zheng) 0x30(dao)
0x01,0x14,
0x02,0x21,
0x8c,0x01,
0x8d,0xcb,
0x87,0x20,
0x1b,0x80,
0x11,0xe0, ///80
0x2b,0x20,
0x92,0x40,
0x06,0xe0,
0x29,0x54,
0xeb,0x30,
0xbb,0x20,
0xf5,0x21,
0xe1,0x3c,
0x16,0x01,
0xe0,0x0b,
0x2f,0xf6,
0x1f,0x20,
0x22,0x20,
0x26,0x20,
0x33,0x20,
0x34,0x08,
0x35,0x60,
0x65,0x40,
0x66,0x48,
0x36,0x05,
0x37,0xf6,
0x38,0x46,
0x9b,0xf6,
0x9c,0x46,
0xbc,0x01,
0xbd,0xf6,
0xbe,0x46,
0x70,0x6f,
0x72,0x8f, ///3f x
0x73,0x3f, ///3F x
0x74,0x27,
0x77,0x90,
0x79,0x48,
0x7a,0x1e,
0x7b,0x30,
0x24,0xb0, ///70//88 mark 2021-4-23 DOWN
0x25,0xc0, ///80//98 mark 2021-4-23	UP
0x55,0x18,
0x80,0x55,
0x81,0x02,
0x82,0x14,
0x83,0x23,
0x9a,0x23,
0x84,0x1a,
0x85,0x20,
0x86,0x20,	///30
0x89,0x02,
0x8a,0x64,
0x8b,0x02,
0x8e,0x02, ///07
0x8f,0xfd, ///79
0x94,0x0a,
0x96,0xa6,
0x97,0x0c,
0x98,0x1a,	///18
0x9d,0x93,
0x9e,0x7a,
0x3b,0x60,
0x3c,0x08, ///0x20
0x39,0x80,
0x3f,0x7f, ///b0
0x40,0x9b,
0x41,0x88,
0x42,0x6e,
0x43,0x59,
0x44,0x4d,
0x45,0x45,
0x46,0x3e,
0x47,0x39,
0x48,0x35,
0x49,0x31,
0x4b,0x2e,
0x4c,0x2b,
0x4e,0x26,
0x4f,0x22,
0x50,0x1f,
0x40,0x48,
0x41,0x54,
0x42,0x4e,
0x43,0x44,
0x44,0x3e,
0x45,0x39,
0x46,0x35,
0x47,0x31,
0x48,0x2e,
0x49,0x2b,
0x4b,0x29,
0x4c,0x27,
0x4e,0x23,
0x4f,0x20,
0x50,0x1e,				
0x51,0x0e,
0x52,0x16,
0x53,0x07,
0x54,0x1a,
0x57,0x9d,
0x58,0x82,
0x59,0x71,
0x5a,0x8d,
0x5b,0x1c,
0x5c,0x0e,
0x5d,0x95,
0x60,0x24,
0x6a,0x81,		  
0x23,0x22,	//44
0xa0,0x03,
0xa1,0x31,
0xa2,0x03, ///0e//05
0xa3,0x15, ///27
0xa4,0x10, ///08 18//10
0xa5,0x1b, ///25 31 mark 2021-4-23
0xa6,0x06,
0xa7,0x87,
0xa8,0x7e,
0xa9,0x28,
0xaa,0x28,
0xab,0x28,
0xac,0x3c,
0xad,0xf0,
0xae,0x80,
0xaf,0x00,
0xc5,0x18,
0xc6,0x00,
0xc7,0x20,
0xc8,0x18,
0xc9,0x20,
0xca,0x17,
0xcb,0x1f,
0xcc,0x40,
0xcd,0x58,
0xee,0x4c,
0xb0,0xe0,
0xb1,0x80, ///c0  d0
0xb2,0xa0, ///b0
0xb3,0x88,
0x56,0x50, ///40
0x13,0x06,	//07 auto_baoguang

#endif 

#if 0	//宋胜利
0x12,0x80,
0x09,0x01,
0x15,0x02,
0x3a,0x00,	//00
0x12,0x00,
0x1e,0x00,
0x13,0x00,
0x01,0x00,
0x02,0x21,
0x8c,0x01,
0x8d,0xcb,
0x87,0x20,
0x1b,0x80,
0x11,0x40,
0x2b,0x50,
0x92,0x78,
0x06,0xe0,
0x29,0x54,
0xeb,0x30,
0xbb,0x20,
0xf5,0x21,
0xe1,0x3c,
0x16,0x01,
0xe0,0x0b,
0x2f,0xf6,
0x1f,0x20,
0x22,0x20,
0x26,0x20,
0x33,0x20,
0x34,0x08,
0x35,0x40,
0x65,0x2a,
0x66,0x2a,
0x36,0x05,
0x37,0xf6,
0x38,0x46,
0x9b,0xf6,
0x9c,0x46,
0xbc,0x01,
0xbd,0xf6,
0xbe,0x46,
0x70,0x5f,
0x72,0x3f,
0x73,0x3f,
0x74,0x27,
0x77,0x90,
0x79,0x48,
0x7a,0x1e,
0x7b,0x30,
0x24,0xe3,	//60 80 a3
0x25,0xf3,	//70 90	b3
0x80,0x55,
0x81,0x02,
0x82,0x14,
0x83,0x23,
0x9a,0x23,
0x84,0x1a,
0x85,0x20,
0x86,0x30,
0x89,0x02,
0x8a,0x64,
0x8b,0x02,
0x8e,0x02,
0x8f,0x6f,
0x94,0x0a,
0x96,0xa6,
0x97,0x0c,
0x98,0x18,
0x9d,0x9c,
0x9e,0x7a,
0x3b,0x60,
0x3c,0x20,
0x39,0x80,
0x3f,0xb0,
0x40,0x9b,
0x41,0x88,
0x42,0x6e,
0x43,0x59,
0x44,0x4d,
0x45,0x45,
0x46,0x3e,
0x47,0x39,
0x48,0x35,
0x49,0x31,
0x4b,0x2e,
0x4c,0x2b,
0x4e,0x26,
0x4f,0x22,
0x50,0x1f,
0x51,0x05,
0x52,0x10,
0x53,0x0b,
0x54,0x15,
0x57,0x87,
0x58,0x72,
0x59,0x5f,
0x5a,0x7e,
0x5b,0x1f,
0x5c,0x0e,
0x5d,0x95,
0x60,0x24,
0x6a,0x11,
0x23,0x00,	//11
0xa0,0x03,
0xa1,0x31,
0xa2,0x10,
0xa3,0x10,
0xa4,0x10,
0xa5,0x10,
0xa6,0x06,
0xa7,0x80,
0xa8,0x7e,
0xa9,0x20,
0xaa,0x20,
0xab,0x20,
0xac,0x3c,
0xad,0x3c,
0xae,0x80,
0xaf,0x00,
0xc5,0x18,
0xc6,0x00,
0xc7,0x20,
0xc8,0x20,
0xc9,0x22,
0xca,0x22,
0xcb,0x25,
0xcc,0x40,
0xcd,0x58,
0xee,0x4c,
0xb0,0xe0,
0xb1,0x60,
0xb2,0xb0,
0xb3,0x88,
0x56,0x3e,
0x13,0x07,
//NTSC     ,
0x2b,0x4a,
0x92,0x14,
0x9d,0x9d,
0x8e,0x01,
0x8f,0xd7,

#endif
	
//===========================================================================
#if 1	//xlife_bebird_BC (default senser 2013 ok!!!)
//0xFC,0X37,	//read
//0xFD,0X03,	//read	 
//0x13,0x12	//read
//0x67,0x00,	//11111
//0x68,0x00,
//0x1e,0x00,	//BIT5-4(180) 0X20(zheng) 0x30(dao)
0x09,0x01,
0x15,0x02,	//02
0x3A,0x00,	//00
0x12,0x00,	//00
0x13,0x00,
0x01,0x14,
0x02,0x21,
0x8c,0x01,
0x8D,0xCB,
0x87,0x20,
0x1B,0x80,
0x11,0xE0,
0x2B,0x20,
0x92,0xE1,
0x06,0xE0,
0x29,0x54,
0xEB,0x30,
0xBB,0x20,
0xF5,0x21,
0xE1,0x3C,
0x16,0x01,
0xE0,0x0B,
0x2F,0xF6,
0x1F,0x20,
0x22,0x20,
0x26,0x20,
0x33,0x20,
0x34,0x08,
0x35,0x50,
0x65,0x4A,
0x66,0x48,
0x36,0x05,
0x37,0xF6,
0x38,0x46,
0x9B,0xF6,
0x9C,0x46,
0xBC,0x01,
0xBD,0xF6,
0xBE,0x46,
0x70,0x6F,
0x72,0x3F,
0x73,0x3F,
0x74,0x27,
0x77,0x90,
0x79,0x48,
0x7A,0x1E,
0x7B,0x30,
0x24,0x70,
0x25,0x80,
0x80,0x55,	//55
0x81,0x02,
0x82,0x14,
0x83,0x23,
0x9A,0x23,
0x84,0x1A,
0x85,0x20,
0x86,0x30,
0x89,0x02,	//
0x8A,0x64,
0x8B,0x02,
0x8E,0x02,
0x8F,0xFD,
0x94,0x0A,
0x96,0xA6,
0x97,0x0C,
0x98,0x1A,
0x9D,0x93,	//
0x9E,0x7A,	//
0x3B,0x60,
0x3C,0x20,
0x39,0x80,
0x3F,0xB0,
0x40,0x9B,
0x41,0x88,
0x42,0x6E,
0x43,0x59,
0x44,0x4D,
0x45,0x45,
0x46,0x3E,
0x47,0x39,
0x48,0x35,
0x49,0x31,
0x4B,0x2E,
0x4C,0x2B,
0x4E,0x26,
0x4F,0x22,
0x50,0x1F,
0x51,0x05,
0x52,0x10,
0x53,0x0B,
0x54,0x15,
0x57,0x87,
0x58,0x72,
0x59,0x5F,
0x5A,0x7E,
0x5B,0x1F,
0x5C,0x0E,
0x5D,0x95,
0x60,0x24,
0x6A,0x01,
0x23,0x66,
0xA0,0x03,
0xA1,0x31,
0xA2,0x0E,
0xA3,0x27,
0xA4,0x08,
0xA5,0x25,
0xA6,0x06,
0xA7,0x80,
0xA8,0x7E,
0xA9,0x20,
0xAA,0x20,
0xAB,0x20,
0xAC,0x3C,
0xAD,0xF0,
0xAE,0x80,
0xAF,0x00,
0xC5,0x18,
0xC6,0x00,
0xC7,0x20,
0XC8,0x18,
0xC9,0x20,
0xCA,0x17,
0xCB,0x1F,
0xCC,0x40,
0xCD,0x58,
0xEE,0x4C,
0xEF,0x00,
0xB0,0xE0,
0xB1,0xC0,
0xB2,0xB0,
0xB3,0x88,
0x56,0x40,
0x13,0x07,
0x24,0x90,
0x25,0xA0,
0xA5,0x30,
0xA4,0x1D,
0xA2,0x07,
0xA3,0x15,
0xA8,0x7F,
0x23,0x44,
0x65,0x3A,
0x51,0x03,
0x52,0x0D,
0x53,0x0B,
0x54,0x14,
0x57,0x59,
0x58,0x45,
0x59,0x41,
0x5A,0x5F,
0x5B,0x1E,
0x5D,0x95,
0x5C,0x0E,
0x2A,0x10,
0x2B,0xA1,
0x9D,0x6B,
0x92,0x3B,
0x8E,0x02,
0x8F,0x17,
0x17,0x00,	//0x00	0x15
0x18,0xa0,	//0xa0	0x8d
#endif

#if 0	//FSBE-V2.2(22-9-6) yangji
//0xfc,0x37,
//0xfd,0x03,
0x12,0x00,
0x20,0x40,
0x09,0xc1,
0x15,0x22,
0x3a,0x00,
0x12,0x00,
0x1e,0x00,
0x8c,0x01,
0x8d,0xcb,
0x87,0x00,
0x1b,0x80,
0x11,0xe0,
0x2b,0x00,
0x06,0xe0,
0x3e,0x12,
0x29,0x54,
0xeb,0x30,
0xbb,0x20,
0xf5,0x21,
0xe1,0x3c,
0x16,0x03,
0xe0,0x0b,
0x2f,0xf6,
0x1f,0x20,
0x22,0x20,
0x26,0x20,
0x33,0x20,
0x34,0x08,
0x35,0x50,
0x65,0x4a,
0x66,0x48,
0x36,0x05,
0x37,0xf6,
0x38,0x46,
0x9b,0xf6,
0x9c,0x46,
0xbc,0x01,
0xbd,0xf6,
0xbe,0x46,
0x70,0x6f,
0x72,0x4f,
0x73,0x2f,
0x74,0x27,
0x77,0x90,
0x79,0x48,
0x7a,0x1e,
0x7b,0x30,
0x24,0xa0,
0x25,0xb0,
0x55,0x0c,
0x56,0x54,
0x80,0x45,
0x81,0x00,
0x82,0x14,
0x83,0x23,
0x9a,0x23,
0x84,0x1a,
0x85,0x20,
0x86,0x2c,
0x89,0x02,
0x8a,0x64,
0x8b,0x02,
0x8e,0x06,
0x8f,0xfd,
0x92,0xe0,
0x93,0x00,
0x94,0x0a,
0x95,0x94,
0x96,0xae,
0x97,0x0e,
0x98,0x18,
0x9d,0x99,
0x9e,0x7f,
0x3b,0x60,
0x3c,0x00,
0x39,0x80,
0x3f,0x7f,
0x40,0x9b,
0x41,0x88,
0x42,0x6e,
0x43,0x59,
0x44,0x4d,
0x45,0x45,
0x46,0x3e,
0x47,0x39,
0x48,0x35,
0x49,0x31,
0x4b,0x2e,
0x4c,0x2b,
0x4e,0x26,
0x4f,0x22,
0x50,0x1f,
0x51,0x05,
0x52,0x10,
0x53,0x0b,
0x54,0x15,
0x57,0x87,
0x58,0x72,
0x59,0x5f,
0x5a,0x7e,
0x5b,0x1f,
0x5c,0x0e,
0x5d,0x95,
0x60,0x24,
0x6a,0x81,
0x23,0x33,
0x13,0x00,
0x01,0x13,
0x02,0x25,
0xa0,0x03,
0xa1,0x31,
0xa2,0x0e,
0xa3,0x27,
0xa4,0x05,
0xa5,0x1c,
0xa6,0x06,
0xa7,0x80,
0xa8,0x7e,
0xa9,0x20,
0xaa,0x20,
0xab,0x20,
0xac,0x3c,
0xad,0xf0,
0xae,0x80,
0xaf,0x00,
0xc5,0x18,
0xc6,0x00,
0xc7,0x20,
0xc8,0x18,
0xc9,0x20,
0xca,0x17,
0xcb,0x1f,
0xcc,0x40,
0xcd,0x58,
0xee,0x4c,
0xb0,0x7f,
0xb1,0xa8,
0xb2,0x8f,
0xb3,0x88,
0x4a,0x68,
0x17,0x00,
0x18,0xa0,
0x19,0x00,
0x1a,0x78,
0x03,0x00,
0x13,0x07,

#endif

#if 0
//F楂-Suear-xxxx-F05-DX8-20221015	(tx娴璇err)
//read
//0xFC,0x37,	//11111
//0xFD,0x03,
0x12,0x00,
0x09,0x03,
0x15,0x02,
0x3A,0x00,
0x12,0x00,
0x1E,0x30,
0x13,0x00,
0x01,0x14,
0x02,0x21,
0x8C,0x01,
0x8D,0xCB,
0x87,0x20,
0x1B,0x80,
0x11,0xE0,
0x2B,0x20,
0x92,0x40,
0x06,0xE0,
0x29,0x54,
0xEB,0x30,
0xBB,0x20,
0xF5,0x21,
0xE1,0x3C,
0x16,0x01,
0xE0,0x0B,
0x2F,0xF6,
0x1F,0x20,
0x22,0x20,
0x26,0x20,
0x33,0x20,
0x34,0x08,
0x35,0x50,
0x65,0x40,
0x66,0x48,
0x36,0x05,
0x37,0xF6,
0x38,0x46,
0x9B,0xF6,
0x9C,0x46,
0xBC,0x01,
0xBD,0xF6,
0xBE,0x46,
0x70,0x6F,
0x72,0x4F,
0x73,0x2F,
0x74,0x27,
0x77,0x90,
0x79,0x48,
0x7A,0x1E,
0x7B,0x30,
0x24,0xA3,
0x25,0xB3,
0x55,0x18,
0x80,0x55,
0x81,0x02,
0x82,0x14,
0x83,0x23,
0x9A,0x23,
0x84,0x1A,
0x85,0x20,
0x86,0x20,
0x89,0x02,
0x8A,0x64,
0x8B,0x02,
0x8E,0x02,
0x8F,0xFD,
0x94,0x0A,
0x96,0xA6,
0x97,0x0C,
0x98,0x1A,
0x9D,0x93,
0x9E,0x7A,
0x3B,0x60,
0x3C,0x08,
0x39,0x80,
0x3F,0x7F,
0x40,0x48,
0x41,0x54,
0x42,0x4E,
0x43,0x44,
0x44,0x3E,
0x45,0x39,
0x46,0x35,
0x47,0x31,
0x48,0x2E,
0x49,0x2B,
0x4B,0x29,
0x4C,0x27,
0x4E,0x23,
0x4F,0x20,
0x50,0x1E,
0x51,0x0E,
0x52,0x16,
0x53,0x07,
0x54,0x1A,
0x57,0x9D,
0x58,0x82,
0x59,0x71,
0x5A,0x8D,
0x5B,0x1C,
0x5C,0x0E,
0x5D,0x95,
0x60,0x24,
0x6A,0x81,
0x23,0x55,
0xA0,0x03,
0xA1,0x31,
0xA2,0x05,
0xA3,0x15,
0xA4,0x14,
0xA5,0x27,
0xA6,0x06,
0xA7,0x80,
0xA8,0x7E,
0xA9,0x20,
0xAA,0x20,
0xAB,0x20,
0xAC,0x3C,
0xAD,0xF0,
0xAE,0x80,
0xAF,0x00,
0xC5,0x18,
0xC6,0x00,
0xC7,0x20,
0xC8,0x18,
0xC9,0x20,
0xCA,0x17,
0xCB,0x1F,
0xCC,0x40,
0xCD,0x58,
0xEE,0x4C,
0xB0,0xE0,
0xB1,0x80,
0xB2,0x90,
0xB3,0x88,
0x56,0x50,
0x13,0x07,
0x4A,0x68,
0x17,0x00,
0x18,0xA0,
0x19,0x00,
0x1A,0x78,
0x03,0x00,
0x13,0x07,	//22222 
#endif

//===========================================================================

	

	-1,-1
			//switch direction
			//0x1e,0x30,//00:normal	10:IMAGE_V_MIRROR	 

};

extern struct i2c_device *iic_test;


static void bf2013_rotate(uint32 r)
{
	unsigned char buf[2];
	buf[0] = 0x1e;
	//buf[1] = Sensor_ReadRegister(buf,u8AddrLength,u8DataLength);
	//buf[1] &=~(3<<4);
	buf[1] = (r<<4)|0x00;
	//i2c_sensor_write(iic_test,buf,1,1,0x42,0x43);
	i2c_write(iic_test,(int8 *)buf,1,(int8 *)&buf[1],1);

}



uint32 bf2013_hvblank(int8 dh,int8 dv)
{
#define HBLANK_BASE	0x00UL
#define VBLANK_BASE	0x00UL
		uint32 i;
		int32 h = (int32)HBLANK_BASE + dh; if(h < 0) h = 0;
		int32 v = (int32)VBLANK_BASE + dv; if(v < 0) v = 0;
		const uint8 t[][2] = {
			{0x2a,(h >> 8) << 4 },
			{0x2b,h & 0xff},
			{0x92,v & 0xff},
			{0x93,v >> 8},
			{0xe3,0x00},
			{0xe4,0},
		};


	for(i=0;i<6;i++)
		i2c_write(iic_test,(int8 *)&t[i][0],1,(int8 *)&t[i][1],1);
		//i2c_sensor_write(iic_test,(uint8 *)&t[i][0],1,1,0x42,0x43);


	return (h<<16)|v;
}

SENSOR_OP_SECTION const _Sensor_Adpt_ bf2013_cmd= 
{
	.typ = 1, //YUV
	.pixelw = 640,
	.pixelh= 480,
	.hsyn = 1,
	.vsyn = 1,
	.rduline = 0,//
	.rawwide = 1,//10bit
	.colrarray = 2,//0:_RGRG_ 1:_GRGR_,2:_BGBG_,3:_GBGB_
	.init = (uint8 *)bf2013InitTable,
	.rotate_adapt = {0},
	//.hvb_adapt = {0xde,0x24,0xde,0x24},
	. mclk = 24000000,
	.p_fun_adapt = {bf2013_rotate,bf2013_hvblank,NULL},
	.p_xc7016_adapt = {NULL},

};

const _Sensor_Ident_ bf2013_init=
{
	0x37,0xdc,0xdd,0x01,0x01,0xfc,//bf3
};



#endif

